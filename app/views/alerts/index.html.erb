<div>
  <div>
    <h1>
      List of <%= @current_user.email %>'s alerts
    </h1>
  </div>
</div>

<hr>

<div>
  <div>
    <h2>
      Add a new alert
    </h2>

    <form action="/insert_alert" method="post">
      <div>
        <label for="address_box">
          Location
        </label>

        <input type="text" id="address_box" name="query_address">
        For most accurate results, enter an exact address
      </div>
      
      <div>
        <input type="checkbox" id="Sunday_box" name="query_Sunday" value="1">

        <label for="Sunday_box">Sunday</label>
      </div>

      <div>
        <input type="checkbox" id="Monday_box" name="query_Monday" value="1">

        <label for="Monday_box">Monday</label>
      </div>

      <div>
        <input type="checkbox" id="Tuesday_box" name="query_Tuesday" value="1">

        <label for="Tuesday_box">Tuesday</label>
      </div>

      <div>
        <input type="checkbox" id="Wednesday_box" name="query_Wednesday" value="1">

        <label for="Wednesday_box">Wednesday</label>
      </div>

      <div>
        <input type="checkbox" id="Thursday_box" name="query_Thursday" value="1">

        <label for="Thursday_box">Thursday</label>
      </div>

      <div>
        <input type="checkbox" id="Friday_box" name="query_Friday" value="1">

        <label for="Friday_box">Friday</label>
      </div>

      <div>
        <input type="checkbox" id="Saturday_box" name="query_Saturday" value="1">

        <label for="Saturday_box">Saturday</label>
      </div>

      <div>
        <label for="alert_send_time_box">
          Alert send time (in <%= @current_user.time_zone %>)
        </label>

        <input type="time" id="alert_send_time_box" name="query_alert_send_time">
      </div>

      <div>
        <label for="forecast_start_time_box">
          Forecast start time (in <%= @current_user.time_zone %>)
        </label>

        <input type="time" id="forecast_start_time_box" name="query_forecast_start_time">
      </div>

      <div>
        <label for="forecast_end_time_box">
          Forecast end time (in <%= @current_user.time_zone %>)
        </label>

        <input type="time" id="forecast_end_time_box" name="query_forecast_end_time">
      </div>

      <button>
        Create alert
      </button>
    </form>
  </div>
</div>

<hr>
<div>
  <div>
    <table>
      <tr>
        <th>
          Address
        </th>

        <th>
          Days
        </th>

        <th>
          Alert Send Time
        </th>

        <th>
          Forecast Start Time
        </th>

        <th>
          Forecast End Time
        </th>

        <th>
          Created at
        </th>

        <th>
          Updated at
        </th>

        <th>
        </th>
      </tr>

      <% @list_of_alerts.each do |an_alert| %>
      <tr>
        <td>
          <%= an_alert.address %>
        </td>

        <td>
        
          <% if an_alert.Sunday %>
            Sunday, 
          <% end %>
        
          <% if an_alert.Monday %>
            Monday, 
          <% end %>
        
          <% if an_alert.Tuesday %>
            Tuesday, 
          <% end %>
        
          <% if an_alert.Wednesday %>
            Wednesday, 
          <% end %>
        
          <% if an_alert.Thursday %>
            Thursday, 
          <% end %>
        
          <% if an_alert.Friday %>
            Friday, 
          <% end %>
        
          <% if an_alert.Saturday %>
            Saturday
          <% end %>

        </td>

        <td>
          <%= an_alert.alert_send_time.in_time_zone(@current_user.time_zone).strftime(" %l:%M %p %Z")  %>
        </td>

        <td>
          <%= an_alert.forecast_start_time.in_time_zone(@current_user.time_zone).strftime(" %l:%M %p %Z") %>
        </td>

        <td>
          <%= an_alert.forecast_end_time.in_time_zone(@current_user.time_zone).strftime(" %l:%M %p %Z") %>
        </td>

        <td>
          <%= time_ago_in_words(an_alert.created_at) %> ago
        </td>
        <td>
          <%= time_ago_in_words(an_alert.updated_at) %> ago
        </td>

        <td>
          <a href="/alerts/<%= an_alert.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>